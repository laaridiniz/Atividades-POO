import Cliente from "./cliente";
import Listagem from "./listagem";
import Produto from "./produto";

export default class GeneroConsumo extends Listagem {
    private clientes: Array<Cliente>
    private produtos:Array<Produto>
    
    constructor(clientes: Array<Cliente>, produtos:Array<Produto>){
      super()
      this.clientes = clientes
      this.produtos = produtos
    }
  
    public listar(): void {
      let genero = 'F';

      let meninas: Array<Cliente> = []
      for (let index = 0; index < this.clientes.length; index++) {
        const cliente = this.clientes[index];
        if(cliente.genero == cliente_genero){
          meninas.push(cliente)
        }
      }
      
      let consumo = {}

      this.produtos.forEach(produto => { consumo[produto.nome] = 0 })

      meninas.forEach( menina => {
        menina.getProdutosConsumidos.forEach(produtoConsumido =>{
          consumo[produtoConsumido.nome] = consumo[produtoConsumido.nome] + 1 
        })
      })
      
      console.log(consumo);
      
      
    }
  }